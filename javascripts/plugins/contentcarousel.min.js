(function(c){var a={navigate:function(g,l,i,d,e){var k=d.scroll,j=1,f=0;if(e.expanded){k=1;j=3;f=e.idxClicked}if(g===1){i.find("div.ca-item:lt("+k+")").each(function(m){c(this).clone(true).css("left",(e.totalItems-f+m)*e.itemW*j+"px").appendTo(i)})}else{var h=i.children().eq(0);i.find("div.ca-item:gt("+(e.totalItems-1-k)+")").each(function(m){c(this).clone(true).css("left",-(k-m+f)*e.itemW*j+"px").insertBefore(h)})}i.find("div.ca-item").each(function(n){var m=c(this);m.stop().animate({left:(g===1)?"-="+(e.itemW*j*k)+"px":"+="+(e.itemW*j*k)+"px"},d.sliderSpeed,d.sliderEasing,function(){if((g===1&&m.position().left<-f*e.itemW*j)||(g===-1&&m.position().left>((e.totalItems-1-f)*e.itemW*j))){m.remove()}e.isAnimating=false})})},openItem:function(g,e,f,d){d.idxClicked=e.index();d.winpos=a.getWinPos(e.position().left,d);g.find("div.ca-item").not(e).hide();e.find("div.ca-content-wrapper").css("left",d.itemW+"px").stop().animate({width:d.itemW*2+"px",left:d.itemW+"px"},f.itemSpeed,f.itemEasing).end().stop().animate({left:"0px"},f.itemSpeed,f.itemEasing,function(){d.isAnimating=false;d.expanded=true;a.openItems(g,e,f,d)})},openItems:function(f,h,e,d){var g=h.index();f.find("div.ca-item").each(function(l){var k=c(this),j=k.index();if(j!==g){k.css("left",-(g-j)*(d.itemW*3)+"px").show().find("div.ca-content-wrapper").css({left:d.itemW+"px",width:d.itemW*2+"px"});a.toggleMore(k,false)}})},toggleMore:function(e,d){(d)?e.find("a.ca-more").show():e.find("a.ca-more").hide()},closeItems:function(f,h,e,d){var g=h.index();h.find("div.ca-content-wrapper").stop().animate({width:"0px"},e.itemSpeed,e.itemEasing).end().stop().animate({left:d.itemW*(d.winpos-1)+"px"},e.itemSpeed,e.itemEasing,function(){d.isAnimating=false;d.expanded=false});a.toggleMore(h,true);f.find("div.ca-item").each(function(l){var k=c(this),j=k.index();if(j!==g){k.find("div.ca-content-wrapper").css({width:"0px"}).end().css("left",((d.winpos-1)-(g-j))*d.itemW+"px").show();a.toggleMore(k,true)}})},getWinPos:function(e,d){switch(e){case 0:return 1;break;case d.itemW:return 2;break;case d.itemW*2:return 3;break}}},b={init:function(d){if(this.length){var e={sliderSpeed:500,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1};return this.each(function(){if(d){c.extend(e,d)}var i=c(this),j=i.find("div.ca-wrapper"),k=j.children("div.ca-item"),h={};h.itemW=k.width();h.totalItems=k.length;if(h.totalItems>3){i.prepend('<div class="ca-nav"><span class="ca-nav-prev">Previous</span><span class="ca-nav-next">Next</span></div>')}if(e.scroll<1){e.scroll=1}else{if(e.scroll>3){e.scroll=3}}var g=i.find("span.ca-nav-prev"),f=i.find("span.ca-nav-next");j.css("overflow","hidden");k.each(function(l){c(this).css({position:"absolute",left:l*h.itemW+"px"})});i.find("a.ca-more").live("click.contentcarousel",function(m){if(h.isAnimating){return false}h.isAnimating=true;c(this).hide();var l=c(this).closest("div.ca-item");a.openItem(j,l,e,h);return false});i.find("a.ca-close").live("click.contentcarousel",function(m){if(h.isAnimating){return false}h.isAnimating=true;var l=c(this).closest("div.ca-item");a.closeItems(j,l,e,h);return false});g.bind("click.contentcarousel",function(l){if(h.isAnimating){return false}h.isAnimating=true;a.navigate(-1,i,j,e,h)});f.bind("click.contentcarousel",function(l){if(h.isAnimating){return false}h.isAnimating=true;a.navigate(1,i,j,e,h)});i.bind("mousewheel.contentcarousel",function(l,m){if(m>0){if(h.isAnimating){return false}h.isAnimating=true;a.navigate(-1,i,j,e,h)}else{if(h.isAnimating){return false}h.isAnimating=true;a.navigate(1,i,j,e,h)}return false})})}}};c.fn.contentcarousel=function(d){if(b[d]){return b[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return b.init.apply(this,arguments)}else{c.error("Method "+d+" does not exist on jQuery.contentcarousel")}}}})(jQuery);